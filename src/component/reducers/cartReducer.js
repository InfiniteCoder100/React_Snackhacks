 import Item1 from '../../assests/Food/1.veg staters/afghanisoyachaap.jpg'
 import Item2 from '../../assests/Food/1.veg staters/soyachilli.jpg'
 import Item3 from '../../assests/Food/1.veg staters/soyatikka.jpg'
 import Item4 from '../../assests/Food/1.veg staters/soyaachaarichaap.jpg'
 import Item5 from '../../assests/Food/1.veg staters/paneertikka.jpg'
 import Item6 from '../../assests/Food/1.veg staters/creampaneertikka.jpg'
 import Item7 from '../../assests/Food/1.veg staters/chillipotato.jpg'
 import Item8 from '../../assests/Food/1.veg staters/mushroomtikka.jpg'
 import Item9 from '../../assests/Food/1.veg staters/vegseekhkabaab.jpg'
import Item10 from '../../assests/Food/1.veg staters/vegmanchurian.jpg'
import Item11 from '../../assests/Food/1.veg staters/mushroomchilli.jpg'
import Item12 from '../../assests/Food/1.veg staters/vegnoodles.jpg'
import Item13 from '../../assests/Food/1.veg staters/hakkanoodles.jpg'
import Item14 from '../../assests/Food/1.veg staters/mushroomnoodles.jpg'
import Item15 from '../../assests/Food/1.veg staters/fried momos.jpg'
import Item16 from '../../assests/Food/1.veg staters/golgappe.jpg'
import Item17 from '../../assests/Food/1.veg staters/stuffgol.jpg'
import Item18 from '../../assests/Food/1.veg staters/paprichhat.jpg'
import Item19 from '../../assests/Food/1.veg staters/pavbhahji.jpg'
import Item20 from '../../assests/Food/1.veg staters/bhel.jpg'
import Item21 from '../../assests/Food/2.non veg staters/afghanichicken.jpg'
import Item22 from '../../assests/Food/2.non veg staters/chickentikka.jpg'
import Item23 from '../../assests/Food/2.non veg staters/chickenseekhkabab.jpg'
import Item24 from '../../assests/Food/2.non veg staters/chillichicken.jpg'
import Item25 from '../../assests/Food/2.non veg staters/lemonchicken.jpg'
import Item26 from '../../assests/Food/2.non veg staters/malaichickentikka.jpg'
import Item27 from '../../assests/Food/2.non veg staters/tandoorichicken.jpg'
import Item28 from '../../assests/Food/2.non veg staters/chickenmanchurian.jpg'
import Item29 from '../../assests/Food/3.italian/capsicumpizza.jpg'
import Item30 from '../../assests/Food/3.italian/bbqchickenpizza.jpg'
import Item31 from '../../assests/Food/3.italian/cheesecornpizza.jpg'
import Item32 from '../../assests/Food/3.italian/corncheesepizza.jpg'
import Item33 from '../../assests/Food/3.italian/goldencornpizza.jpg'
import Item34 from '../../assests/Food/3.italian/margritacheeseburst.jpg'
import Item35 from '../../assests/Food/3.italian/pannertikkapizza.jpg'
import Item36 from '../../assests/Food/3.italian/spicychickenpizza.jpg'
import Item37 from '../../assests/Food/3.italian/vegsupremepizza.jpg'
import Item38 from '../../assests/Food/3.italian/cheesegarlicbread.jpg'
import Item39 from '../../assests/Food/3.italian/exoticgarlicbread.jpg'
import Item40 from '../../assests/Food/3.italian/cheesepasta.jpg'
import Item41 from '../../assests/Food/3.italian/vegpasta.jpg'
import Item42 from '../../assests/Food/3.italian/vegpinksaucepasta.jpg'
import Item43 from '../../assests/Food/3.italian/whitesaucepasta.jpg'
import Item44 from '../../assests/Food/4.southindian/dahivada.jpg'
import Item45 from '../../assests/Food/4.southindian/dalvada.jpg'
import Item46 from '../../assests/Food/4.southindian/mixuttapam.jpg'
import Item47 from '../../assests/Food/4.southindian/onionuttapam.jpg'
import Item48 from '../../assests/Food/4.southindian/plainidlisambar.jpg'
import Item49 from '../../assests/Food/4.southindian/idlisambar.jpg'
import Item50 from '../../assests/Food/4.southindian/plaindosa.jpg'
import Item51 from '../../assests/Food/4.southindian/masaladosa.jpg'
import Item52 from '../../assests/Food/4.southindian/onionmasaladosa.jpg'
import Item53 from '../../assests/Food/4.southindian/paneermasaladosa.jpg'
import Item54 from '../../assests/Food/5.salad/mixsalad.jpg'
import Item55 from '../../assests/Food/5.salad/nachosalad.jpg'
import Item56 from '../../assests/Food/6.raita/plaincurd.jpg'
import Item57 from '../../assests/Food/6.raita/mixraita.jpg'
import Item58 from '../../assests/Food/6.raita/pineappleraita.jpg'
import Item59 from '../../assests/Food/7.rice/steamedrice.jpg'
import Item60 from '../../assests/Food/7.rice/vegpulao.jpg'
import Item61 from '../../assests/Food/7.rice/chickenrice.jpg'
import Item62 from '../../assests/Food/7.rice/vegfriedrice.jpg'
import Item63 from '../../assests/Food/7.rice/chickenbiryani.jpg'
import Item64 from '../../assests/Food/7.rice/vegbiryani.jpg'
import Item65 from '../../assests/Food/7.rice/dalrice.jpg'
import Item66 from '../../assests/Food/7.rice/karhirice.jpg'
import Item67 from '../../assests/Food/7.rice/rajmarice.jpg'
import Item68 from '../../assests/Food/8.breads/tandooriroti.jpg'
import Item69 from '../../assests/Food/8.breads/missiroti.jpg'
import Item70 from '../../assests/Food/8.breads/plainnaan.jpg'
import Item71 from '../../assests/Food/8.breads/lachhaparantha.jpg'
import Item72 from '../../assests/Food/8.breads/onionnaan.jpg'
import Item73 from '../../assests/Food/8.breads/paneernaan.jpg'
import Item74 from '../../assests/Food/8.breads/chickennaan.jpg'
import Item75 from '../../assests/Food/9.veg main course/channamasala.jpg'
import Item76 from '../../assests/Food/9.veg main course/cheesechilli.jpg'
import Item77 from '../../assests/Food/9.veg main course/dalmakhni.jpg'
import Item78 from '../../assests/Food/9.veg main course/yellowdal.jpg'
import Item79 from '../../assests/Food/9.veg main course/kadhaipaneer.jpg'
import Item80 from '../../assests/Food/9.veg main course/malaikofta.jpg'
import Item81 from '../../assests/Food/9.veg main course/matarpaneer.jpg'
import Item82 from '../../assests/Food/9.veg main course/mixveg.jpg'
import Item83 from '../../assests/Food/9.veg main course/mushroommatarmasala.jpg'
import Item84 from '../../assests/Food/9.veg main course/paneerbuttermasala.jpg'
import Item85 from '../../assests/Food/9.veg main course/paneerdopayaza.jpg'
import Item86 from '../../assests/Food/9.veg main course/paneerpasanda.jpg'
import Item87 from '../../assests/Food/9.veg main course/paneertikkabuttermasala.jpg'
import Item88 from '../../assests/Food/9.veg main course/rajma.jpg'
import Item89 from '../../assests/Food/9.veg main course/shahipaneer.jpg'
import Item90 from '../../assests/Food/10.non-veg main course/butterchicken.jpg'
import Item91 from '../../assests/Food/10.non-veg main course/chickencurry.jpg'
import Item92 from '../../assests/Food/10.non-veg main course/chickentikkabuttermasala.jpg'
import Item93 from '../../assests/Food/10.non-veg main course/creamchicken.jpg'
import Item94 from '../../assests/Food/10.non-veg main course/kadahichicken.jpg'
import Item95 from '../../assests/Food/10.non-veg main course/masalachicken.jpg'
import Item96 from '../../assests/Food/10.non-veg main course/rarachicken.jpg'
import Item97 from '../../assests/Food/10.non-veg main course/muttoncurry.jpg'
import Item98 from '../../assests/Food/10.non-veg main course/muttonmasala.jpg'
import Item99 from '../../assests/Food/10.non-veg main course/muttonroganjosh.jpg'
import Item100 from '../../assests/Food/11.beverages/blackforestshake.jpg'
import Item101 from '../../assests/Food/11.beverages/chococoffe.jpg'
import Item102 from '../../assests/Food/11.beverages/doublechopochipfrappe.jpg'
import Item103 from '../../assests/Food/11.beverages/strawberryshake.jpg'
import Item104 from '../../assests/Food/11.beverages/pepsican.jpg'

import { ADD_TO_CART,REMOVE_ITEM,SUB_QUANTITY,ADD_QUANTITY,ADD_SHIPPING } from '../actions/action-types/cart-actions'


const initState = {
    items: [
        {id:1,title:'afghanisoyachaap', price:110,img:Item1},
        {id:2,title:'soyachilli', price:80,img: Item2},
        {id:3,title:'soyatikka',  price:120,img: Item3},
        {id:4,title:'soyaachaarichaap', price:260,img:Item4},
        {id:5,title:'paneertikka', price:160,img: Item5},
        {id:6,title:'creampaneertikka',  price:90,img: Item6},
        {id:7,title:'chillipotato',  price:120,img: Item7},
        {id:8,title:'mushroomtikka', price:260,img:Item8},
        {id:9,title:'vegseekhkabaab', price:160,img: Item9},
        {id:10,title:'vegmanchurian',  price:90,img: Item10},
        {id:11,title:'mushroomchilli', price:110,img:Item11},
        {id:12,title:'vegnoodles', price:80,img: Item12},
        {id:13,title:'hakkanoodles',  price:120,img: Item13},
        {id:14,title:'mushroomnoodles', price:260,img:Item14},
        {id:15,title:'fried momos', price:160,img: Item15},
        {id:16,title:'golgappe',  price:90,img: Item16},
        {id:17,title:'stuffgol',  price:120,img: Item17},
        {id:18,title:'paprichhat', price:260,img:Item18},
        {id:19,title:'pavbhahji', price:160,img: Item19},
        {id:20,title:'bhel',  price:90,img: Item20},
        {id:21,title:'afghanichicken',  price:120,img: Item21},
        {id:22,title:'chickentikka', price:260,img:Item22},
        {id:23,title:'chickenseekhkabab', price:160,img: Item23},
        {id:24,title:'chillichicken',  price:90,img: Item24},
        {id:25,title:'lemonchicken',  price:120,img: Item25},
        {id:26,title:'malaichickentikka', price:260,img:Item26},
        {id:27,title:'tandoorichicken', price:160,img: Item27},
        {id:28,title:'chickenmanchurian',  price:90,img: Item28},
        {id:29,title:'capsicumpizza', price:110,img:Item29},
        {id:30,title:'bbqchickenpizza', price:80,img: Item30},
        {id:31,title:'cheesecornpizza',  price:120,img: Item31},
        {id:32,title:'corncheesepizza', price:260,img:Item32},
        {id:33,title:'goldencornpizza', price:160,img: Item33},
        {id:34,title:'margritacheeseburst',  price:90,img: Item34},
        {id:35,title:'pannertikkapizza',  price:120,img: Item35},
        {id:36,title:'spicychickenpizza', price:260,img:Item36},
        {id:37,title:'vegsupremepizza', price:160,img: Item37},
        {id:38,title:'cheesegarlicbread',  price:90,img: Item38},
        {id:39,title:'exoticgarlicbread', price:110,img:Item39},
        {id:40,title:'cheesepasta', price:80,img: Item40},
        {id:41,title:'redsaucepasta',  price:120,img: Item41},
        {id:42,title:'vegpinksaucepasta', price:260,img:Item42},
        {id:43,title:'whitesaucepasta', price:160,img: Item43},
        {id:44,title:'dahivada',  price:120,img: Item44},
        {id:45,title:'dalvada', price:260,img:Item45},
        {id:46,title:'mixuttapam', price:160,img: Item46},
        {id:47,title:'mixuttapam', price:160,img: Item47},
        {id:48,title:'plainidlisambar',  price:90,img: Item48},
        {id:49,title:'idlisambar', price:110,img:Item49},
        {id:50,title:'plaindosa', price:80,img: Item50},
        {id:51,title:'masaladosa',  price:120,img: Item51},
        {id:52,title:'onionmasaladosa', price:260,img:Item52},
        {id:53,title:'paneermasaladosa', price:160,img: Item53},
        {id:54,title:'mixsalad', price:260,img:Item54},
        {id:55,title:'nachosalad', price:160,img: Item55},
        {id:56,title:'plaincurd', price:160,img: Item56},
        {id:57,title:'mixraita', price:260,img:Item57},
        {id:58,title:'pineappleraita', price:160,img: Item58},
        {id:59,title:'steamedrice', price:80,img: Item59},
        {id:60,title:'vegpulao',  price:120,img: Item60},
        {id:61,title:'chickenrice', price:260,img:Item61},
        {id:62,title:'vegfriedrice', price:160,img: Item62},
        {id:63,title:'chickenbiryani', price:260,img:Item63},
        {id:64,title:'vegbiryani', price:160,img: Item64},
        {id:65,title:'dalrice', price:160,img: Item65},
        {id:66,title:'karhirice', price:260,img:Item66},
        {id:67,title:'rajmarice', price:160,img: Item67},
        {id:68,title:'tandooriroti',  price:120,img: Item68},
        {id:69,title:'missiroti', price:260,img:Item69},
        {id:70,title:'plainnaan', price:160,img: Item70},
        {id:71,title:'lachhaparantha', price:260,img:Item71},
        {id:72,title:'onionnaan', price:160,img: Item72},
        {id:73,title:'paneernaan', price:160,img: Item73},
        {id:74,title:'chickennaan', price:260,img:Item74},
        {id:75,title:'channamasala',  price:120,img: Item75},
        {id:76,title:'cheesechilli', price:260,img:Item76},
        {id:77,title:'dalmakhni', price:160,img: Item77},
        {id:78,title:'yellowdal', price:260,img:Item78},
        {id:79,title:'kadhaipaneer', price:160,img: Item79},
        {id:80,title:'malaikofta', price:160,img: Item80},
        {id:81,title:'matarpaneer', price:260,img:Item81},
        {id:82,title:'mixveg', price:160,img: Item82},
        {id:83,title:'mushroommatarmasala',  price:120,img: Item83},
        {id:84,title:'paneerbuttermasala', price:260,img:Item84},
        {id:85,title:'paneerdopayaza', price:160,img: Item85},
        {id:86,title:'paneerpasanda', price:260,img:Item86},
        {id:87,title:'paneertikkabuttermasala', price:160,img: Item87},
        {id:88,title:'rajma', price:160,img: Item88},
        {id:89,title:'shahipaneer', price:260,img:Item89},
        {id:90,title:'butterchicken', price:160,img: Item90},
        {id:91,title:'chickencurry', price:260,img:Item91},
        {id:92,title:'chickentikkabuttermasala', price:160,img: Item92},
        {id:93,title:'creamchicken',  price:120,img: Item93},
        {id:94,title:'kadahichicken', price:260,img: Item94},
        {id:95,title:'masalachicken', price:160,img: Item95},
        {id:96,title:'rarachicken', price:260,img:Item96},
        {id:97,title:'muttoncurry', price:160, img: Item97},
        {id:98,title:'muttonmasala', price:160,img: Item98},
        {id:99,title:'muttonroganjosh', price:260,img:Item99},
        {id:100,title:'blackforestshake', price:110,img:Item100},
        {id:101,title:'chococoffe', price:80,img: Item101},
        {id:102,title:'doublechopochipfrappe',  price:120,img: Item102},
        {id:103,title:'strawberryshake',  price:120,img: Item103},
        {id:104,title:'pepsican', price:80,img: Item104},
    ],
    addedItems:[],
    total: 0

}
const cartReducer= (state = initState,action)=>{
   
    //INSIDE HOME COMPONENT
    if(action.type === ADD_TO_CART){
          let addedItem = state.items.find(item=> item.id === action.id)
          //check if the action id exists in the addedItems
         let existed_item= state.addedItems.find(item=> action.id === item.id)
         if(existed_item)
         {
            addedItem.quantity += 1 
             return{
                ...state,
                 total: state.total + addedItem.price 
                  }
        }
         else{
            addedItem.quantity = 1;
            //calculating the total
            let newTotal = state.total + addedItem.price 
            
            return{
                ...state,
                addedItems: [...state.addedItems, addedItem],
                total : newTotal
            }
            
        }
    }
    if(action.type === REMOVE_ITEM){
        let itemToRemove= state.addedItems.find(item=> action.id === item.id)
        let new_items = state.addedItems.filter(item=> action.id !== item.id)
        
        //calculating the total
        let newTotal = state.total - (itemToRemove.price * itemToRemove.quantity )
        console.log(itemToRemove)
        return{
            ...state,
            addedItems: new_items,
            total: newTotal
        }
    }
    //INSIDE CART COMPONENT
    if(action.type=== ADD_QUANTITY){
        let addedItem = state.items.find(item=> item.id === action.id)
          addedItem.quantity += 1 
          let newTotal = state.total + addedItem.price
          return{
              ...state,
              total: newTotal
          }
    }
    if(action.type=== SUB_QUANTITY){  
        let addedItem = state.items.find(item=> item.id === action.id) 
        //if the qt == 0 then it should be removed
        if(addedItem.quantity === 1){
            let new_items = state.addedItems.filter(item=>item.id !== action.id)
            let newTotal = state.total - addedItem.price
            return{
                ...state,
                addedItems: new_items,
                total: newTotal
            }
        }
        else {
            addedItem.quantity -= 1
            let newTotal = state.total - addedItem.price
            return{
                ...state,
                total: newTotal
            }
        }
        
    }

    if(action.type=== ADD_SHIPPING){
          return{
              ...state,
              total: state.total + 6
          }
    }

    if(action.type=== 'SUB_SHIPPING'){
        return{
            ...state,
            total: state.total - 6
        }
  }
    
  else{
    return state
    }
    
}

export default cartReducer
